import cv2
import numpy as np
 





demo = cv2.imread("koala.jpeg")
r, c,t = demo.shape
#key2 = np.random.choice([0, 255, 255, 0, 0, 255, 0, 0, 0, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 0, 0, 255, 255, 0, 0, 0, 255, 0, 0, 255, 255, 255, 0, 255, 0, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 0, 255, 255, 0, 0, 255, 255, 0, 0, 0, 255, 0, 255, 255, 0, 0, 255, 0, 255, 255, 255, 0, 0, 0, 255, 0, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 0, 255, 255, 0, 255, 0, 255, 0, 255, 0, 255, 255, 0, 255, 255, 255, 0, 0, 255, 0, 0, 255, 255, 0, 0, 255, 0, 255, 255, 0, 0, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 0, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 0, 0, 0, 255, 0, 0, 0, 255, 0, 0, 255, 255, 255, 0, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 0, 0, 0, 255, 0, 255, 255, 255, 255, 0, 0, 0, 255, 255, 0, 255, 255, 0, 255, 0, 255, 255, 255, 255, 0, 255, 255, 0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 255, 0, 0, 255, 0, 0, 0, 255, 255, 0, 0, 0, 0, 255, 0, 0, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 255, 255, 255, 0, 0, 255, 0, 0, 0, 0, 255, 0, 0, 255, 255],size=(r, c,t )) # Generate random key image
key2 = np.random.choice([6, 53, 103, 195, 165, 195, 87, 167, 13, 18, 84, 98, 52, 39, 0, 194, 232, 10, 162, 226, 94, 177, 210, 63, 12, 62, 79, 176, 209, 90, 191, 244, 75, 219, 70, 74, 150, 78, 219, 117, 115, 142, 14, 233, 204, 146, 179, 74, 109, 248, 243, 240, 4, 103, 184, 39, 224, 187, 221, 210, 40, 32, 167, 234, 201, 97, 220, 238, 159, 87, 43, 113, 234, 172, 124, 59, 231, 19, 71, 88, 84, 38, 108, 60, 187, 84, 87, 136, 204, 227, 72, 83, 191, 88, 92, 137, 13, 43, 0, 14, 69, 50, 96, 90, 145, 112, 99, 76, 199, 207, 162, 200, 191, 204, 75, 180, 166, 100, 54, 142, 13, 26, 217, 70, 187, 229, 122, 9, 113, 150, 207, 245, 63, 186, 102, 248, 171, 74, 124, 63, 255, 152, 158, 64, 210, 30, 210, 184, 151, 176, 183, 226, 64, 51, 44, 45, 148, 253, 0, 186, 255, 21, 21, 217, 141, 226, 69, 134, 52, 0, 200, 43, 219, 125, 194, 123, 169, 76, 66, 104, 201, 13, 208, 157, 195, 40, 46, 184, 59, 164, 61, 226, 65, 226, 113, 154, 225, 225, 15, 121, 138, 153, 235, 30, 90, 98, 192, 125, 88, 253, 71, 182, 130, 89, 44, 160, 209, 111, 104, 25, 10, 70, 97, 139, 171, 177, 231, 236, 135, 224, 156, 92, 0, 100, 98, 118, 15, 32, 35, 220, 106, 200, 220, 152, 225, 89, 117, 187, 104, 174, 233, 254, 200, 59, 16, 27, 76],size=(r, c, t)) # Generate random key image
mylist = []
mylist2 = []

for i in key2:
    arr = np.array(i, dtype=np.uint8)
    mylist.append(arr)

print()
    
fth = np.array(mylist)



#key2=np.dtype(np.uint8)


encryption = cv2.bitwise_xor(demo, fth) # encryption
decryption = cv2.bitwise_xor(encryption, fth) # decryption
 
cv2.imshow("encryption", encryption) # Display ciphertext image
cv2.imshow("decryption", decryption) # Display the decrypted image
cv2
 
cv2.waitKey(-1)
cv2.destroyAllWindows()


